# 🧠 지능형 대출 이자 계산기

**다양한 상환 방식을 비교하고, AI 기반으로 더 나은 대출 관리를 제안받으세요.**

---

## 📋 프로젝트 개요 (Overview)

이 프로젝트는 단순한 이자 계산을 넘어, 복잡한 대출 시나리오를 시뮬레이션하고 사용자에게 재정적으로 더 나은 선택을 할 수 있도록 돕는 것을 목표로 하는 차세대 대출 이자 계산기입니다.

사용자는 기본 대출 정보(원금, 금리, 기간)만으로 **원리금 균등**, **원금 균등**, **만기일시** 상환 방식에 따른 총 이자 비용과 월 상환금을 즉시 비교할 수 있습니다. 나아가, **거치기간**, **중도상환**, **금리 변동**과 같은 실제 대출 과정에서 발생할 수 있는 복합적인 변수들을 모두 반영하여 정교한 상환 계획을 시뮬레이션할 수 있습니다.

이 프로젝트의 핵심은, 사용자의 대출 조건이 현재 시장 금리 대비 높은 편이라고 판단될 경우, **더 낮은 금리로 갈아탈 수 있는 대환대출을 지능적으로 제안**하여 잠재적인 금융 비용 절감 효과를 알려주는 데 있습니다.


## ✨ 주요 기능 (Key Features)

- **🔢 3가지 상환 방식 동시 계산**
  - 원리금 균등 분할상환
  - 원금 균등 분할상환
  - 만기일시 상환
  - 각 방식의 총 이자, 총상환액을 테이블로 한눈에 비교하여 최적의 상환 전략 수립을 지원합니다.

- **🔀 복합 시나리오 시뮬레이션**
  - **거치기간 설정:** 대출 초기, 이자만 납부하는 기간을 설정할 수 있습니다.
  - **중도상환 및 금리 변동:** 특정 회차에 원금을 추가 상환하거나, 금리가 변경되는 경우를 시나리오에 동적으로 추가하여 이후 상환 계획이 어떻게 바뀌는지 즉시 확인할 수 있습니다. `+`/`-` 버튼으로 여러 개의 이벤트를 자유롭게 추가/제거할 수 있습니다.

- **🤖 지능형 대환대출 제안**
  - 현재 금리가 제1금융권 평균 금리보다 높을 경우, 1년 뒤 대환하는 것을 가정하여 **예상 절감액**을 계산하여 보여줍니다.
  - 단순히 절감액만 보여주는 것을 넘어, 금리 수준에 따라 "금리가 높은 편이에요" 또는 "이자를 더 아낄 기회가 있어요" 와 같이 개인화된 메시지를 제공합니다.
  - 카카오뱅크, 토스 등 주요 대환대출 플랫폼으로 바로 이동할 수 있는 링크를 제공하여 사용자 편의성을 극대화했습니다.

- **💻 인터랙티브하고 세련된 UI/UX**
  - **Next.js App Router**와 **React Server Components**를 기반으로 빠르고 효율적인 렌더링을 구현했습니다.
  - **Tailwind CSS**를 활용하여 반응형 웹 디자인과 모던한 UI를 구축했습니다.
  - 복잡한 입력 폼을 옵션 체크박스(거치기간, 중도상환)를 통해 단계적으로 보여주어 사용자의 피로도를 낮췄습니다.
  - 계산 결과, 상세 상환 스케줄 등을 토글(Toggle) 방식으로 필요할 때만 볼 수 있도록 하여 화면을 깔끔하게 유지합니다.
  - **Zod**를 활용한 강력한 입력값 유효성 검사를 통해 발생 가능한 오류를 사전에 방지하고 사용자에게 명확한 피드백을 제공합니다.


## 🛠️ 사용 기술 (Tech Stack)

- **Framework**: Next.js (v14+)
- **Language**: TypeScript
- **UI**: React, Tailwind CSS
- **State Management**: React `useActionState` (for Server Actions)
- **Testing**: Jest
- **Validation**: Zod


## 🧪 핵심 로직 및 단위 테스트

이 프로젝트의 핵심인 대출 계산 로직(`app/lib/loanLogic.ts`)은 **자동화된 단위 테스트**를 통해 그 정확성과 안정성을 보장합니다. `Jest`를 사용하여 다음과 같은 핵심 시나리오들을 검증합니다.

- **원리금 균등 상환 방식**
  - ✔️ 표준 대출 계산
  - ✔️ 거치기간 포함 계산
  - ✔️ 중도상환 포함 계산

- **원금 균등 상환 방식**
  - ✔️ 표준 대출 계산

`npm test` 명령어를 통해 언제든지 모든 테스트를 실행하고, 코드 변경으로 인한 잠재적 오류를 즉시 확인할 수 있습니다. 이는 복잡한 금융 계산의 신뢰도를 유지하는 중요한 장치입니다.

더 자세한 테스트 케이스와 프로젝트 설계 내용은 `blueprint.md` 문서를 참고해주세요.


## 📁 프로젝트 구조 (Project Structure)

```
.
├── app/
│   ├── layout.tsx         # 루트 레이아웃
│   ├── page.tsx           # 메인 페이지 (계산기 컴포넌트 렌더링)
│   ├── components/
│   │   └── LoanPlanner.tsx  # 핵심 UI 컴포넌트
│   └── lib/
│       ├── actions.ts       # 서버 액션 (UI와 로직 연결)
│       ├── loanLogic.ts     # 모든 대출 계산 로직
│       └── __tests__/
│           └── loanLogic.test.ts # 단위 테스트 파일
├── public/                # 정적 에셋
├── blueprint.md           # 프로젝트 기획 및 설계 문서
└── README.md              # 프로젝트 소개 문서
```


## 🚀 시작하기 (Getting Started)

### 1. 전제 조건 (Prerequisites)

- Node.js (v18.x 이상 권장)
- npm 또는 yarn

### 2. 설치 (Installation)

```bash
# 1. 프로젝트 클론
git clone https://github.com/applebos/loan_debt_management2.git

# 2. 프로젝트 폴더로 이동
cd loan_debt_management2

# 3. 의존성 패키지 설치
npm install
```

### 3. 개발 서버 실행 (Running the App)

```bash
npm run dev
```
브라우저에서 `http://localhost:3000`으로 접속하세요.

### 4. 테스트 실행 (Running Tests)

```bash
npm test
```


## 🌟 향후 계획 (Future Plans)

- **[고도화]** 외부 금융 API와 연동하여 최신 시장 금리를 실시간으로 반영한 대환대출 분석 제공
- **[기능 확장]** 체증식 분할상환 등 더 다양한 대출 상환 방식 지원
- **[시각화]** 상환 방식별 비용 차이를 그래프 형태로 시각화하여 직관적인 비교 기능 제공
